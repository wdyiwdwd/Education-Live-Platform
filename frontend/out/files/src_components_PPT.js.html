<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/components/PPT.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-elements">Elements</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Actions.html">Actions</a></li>
                                <li><a href="../classes/Canvas.html">Canvas</a></li>
                                <li><a href="../classes/CanvasInfo.html">CanvasInfo</a></li>
                                <li><a href="../classes/Chat.html">Chat</a></li>
                                <li><a href="../classes/Checks.html">Checks</a></li>
                                <li><a href="../classes/CloseButton.html">CloseButton</a></li>
                                <li><a href="../classes/CodeMirror.html">CodeMirror</a></li>
                                <li><a href="../classes/Const.html">Const</a></li>
                                <li><a href="../classes/Getters.html">Getters</a></li>
                                <li><a href="../classes/Home.html">Home</a></li>
                                <li><a href="../classes/Index.html">Index</a></li>
                                <li><a href="../classes/Live.html">Live</a></li>
                                <li><a href="../classes/LogIn.html">LogIn</a></li>
                                <li><a href="../classes/Mp4Player.html">Mp4Player</a></li>
                                <li><a href="../classes/PPT.html">PPT</a></li>
                                <li><a href="../classes/Progress.html">Progress</a></li>
                                <li><a href="../classes/ProgressBar.html">ProgressBar</a></li>
                                <li><a href="../classes/Room.html">Room</a></li>
                                <li><a href="../classes/SignUp.html">SignUp</a></li>
                                <li><a href="../classes/StudentRTC.html">StudentRTC</a></li>
                                <li><a href="../classes/Studio.html">Studio</a></li>
                                <li><a href="../classes/TeacherRTC.html">TeacherRTC</a></li>
                                <li><a href="../classes/Topbar.html">Topbar</a></li>
                                <li><a href="../classes/UploadButton.html">UploadButton</a></li>
                                <li><a href="../classes/Utils.html">Utils</a></li>
                                <li><a href="../classes/Verification.html">Verification</a></li>
                                <li><a href="../classes/Welcome.html">Welcome</a></li>
                            </ul>
                
                                <ul id="api-elements" class="apis elements">
                                    <li><a href="../elements/CREATORID.html">&lt;CREATORID&gt;</a></li>
                                    <li><a href="../elements/HEIGHT.html">&lt;HEIGHT&gt;</a></li>
                                    <li><a href="../elements/WIDTH.html">&lt;WIDTH&gt;</a></li>
                                </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Store.html">Store</a></li>
                                <li><a href="../modules/TinyComponents.html">TinyComponents</a></li>
                                <li><a href="../modules/Utils.html">Utils</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/components/PPT.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&lt;template&gt;
&lt;div&gt;
    &lt;div id=&quot;slide&quot; v-if=&quot;!LOADING&quot;&gt;
        &lt;Carousel v-model=&quot;index&quot; :autoplay=&quot;setautoplay&quot; :autoplay-speed=&quot;autoplayspeed&quot; :dots=&#x27;setdots&#x27; trigger=&quot;click&quot; :arrow=&quot;(AUTHORITY)?&#x27;hover&#x27;:&#x27;never&#x27;&quot; @on-change=&#x27;changeppt&#x27;&gt; 
            &lt;Carousel-item v-for=&#x27;img of imgs&#x27;&gt;
                &lt;img :src=&#x27;img&#x27; :style=&quot;position&quot; class=&quot;images&quot;&gt;
            &lt;/Carousel-item&gt;
        &lt;/Carousel&gt;
        &lt;div class=&quot;relative&quot;&gt;
            &lt;div id=&quot;showbar&quot; :style=&quot;toolbarStyle&quot;&gt;
            &lt;div id=&quot;bottom-toolbar&quot;&gt;
                &lt;div id=&quot;controls&quot;&gt;
                    &lt;Poptip trigger=&quot;hover&quot; :content=&quot;&#x27;speed: &#x27;+(11-autoplayspeed/1000)&quot; placement=&quot;top&quot;&gt;
                        &lt;Button @click=&quot;minusSpeed()&quot; type=&quot;text&quot; class=&quot;buttons&quot; :disabled=&quot;!AUTHORITY&quot;&gt;&lt;Icon type=&quot;minus-round&quot;:size=&quot;16&quot;&gt;&lt;/Icon&gt;&lt;/Button&gt;
                    &lt;/Poptip&gt;
                    &lt;Poptip trigger=&quot;hover&quot; content=&quot;manul&quot; placement=&quot;top&quot;&gt;
                        &lt;Button  v-show=&quot;setautoplay===false&quot; @click=&quot;changeAuto()&quot; type=&quot;text&quot; class=&quot;buttons&quot; :disabled=&quot;!AUTHORITY&quot;&gt;&lt;Icon type=&quot;play&quot; :size=&quot;16&quot;&gt;&lt;/Icon&gt;&lt;/Button&gt;
                    &lt;/Poptip&gt;
                    &lt;Poptip trigger=&quot;hover&quot; content=&quot;auto&quot; placement=&quot;top&quot;&gt;
                        &lt;Button v-show=&quot;setautoplay===true&quot; @click=&quot;changePause()&quot; type=&quot;text&quot; class=&quot;buttons&quot; :disabled=&quot;!AUTHORITY&quot;&gt;&lt;Icon type=&quot;pause&quot; :size=&quot;16&quot;&gt;&lt;/Icon&gt;&lt;/Button&gt;
                    &lt;/Poptip&gt;
                    &lt;Poptip trigger=&quot;hover&quot; :content=&quot;&#x27;speed: &#x27;+(11-autoplayspeed/1000)&quot; placement=&quot;top&quot;&gt;
                        &lt;Button @click=&quot;addSpeed()&quot; type=&quot;text&quot; class=&quot;buttons&quot; :disabled=&quot;!AUTHORITY&quot;&gt;&lt;Icon type=&quot;plus-round&quot; :size=&quot;20&quot;&gt;&lt;/Icon&gt;&lt;/Button&gt;
                    &lt;/Poptip&gt;
                &lt;/div&gt;
                &lt;div id=&quot;slider&quot;&gt;
                    &lt;!-- 注意修改一下，不要传length，最好提前知道有几张图片然后传数，不然现在一开始会显示-1，有这样一个小Bug--&gt;
                    &lt;Slider v-model=&quot;index&quot; :min=&quot;0&quot; :max=&quot;imgs.length-1&quot; :step=&quot;1&quot; :disabled=&quot;!AUTHORITY&quot;&gt;&lt;/Slider&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id=&quot;spin&quot; :style=&quot;position&quot; v-else&gt;
        &lt;div id=&quot;loading-text&quot;&gt;
            &lt;div id=&quot;content&quot;&gt;{{ &#x27;Converting\n&#x27; + &#x27;....&#x27;.slice(0,stepCurrent+1) }}&lt;/div&gt;
        &lt;/div&gt;
        &lt;Steps :current=&quot;stepCurrent&quot; id=&quot;steps&quot;&gt;
            &lt;Step title=&quot;First&quot; :content=&quot;(stepCurrent===0)?&#x27;Start Live&#x27;:&#x27;&#x27;&quot;&gt;&lt;/Step&gt;
            &lt;Step title=&quot;Second&quot; :content=&quot;(stepCurrent===1)?&#x27;Open Camara&#x27;:&#x27;&#x27;&quot;&gt;&lt;/Step&gt;
            &lt;Step title=&quot;Third&quot; :content=&quot;(stepCurrent===2)?&#x27;Test Sound&#x27;:&#x27;&#x27;&quot;&gt;&lt;/Step&gt;
            &lt;Step title=&quot;Forth&quot; :content=&quot;(stepCurrent===3)?&#x27;Lets Beigin&#x27;:&#x27;&#x27;&quot;&gt;&lt;/Step&gt;
        &lt;/Steps&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
    /**
     *Module TinyComponents
     *
     *@module TinyComponents
     *@requires Utils
     */
    import { mapGetters } from &#x27;vuex&#x27;
    import { getFileNameFromPath } from &#x27;../utils/utils&#x27;
    /**
     *PPT
     *@class PPT
     *@constructor
     */
    export default {
        props: {
            WIDTH: {
                type: Number,
                default: 400
            },
            HEIGHT: {
                type: Number,
                default: 260
            },
            AUTHORITY: {
                type: Boolean,
                default: false
            },
            LOADING: {
                type: Boolean,
                default: false
            }
        },
        data () {
            return {
                toolbarStyle: {
                    width: &#x27;400px&#x27;
                },
                index: 0,
                imgs: [],
                binpath: &#x27;/static&#x27;,
                setautoplay: false,
                autoplayspeed: 3000,
                setdots: &#x27;none&#x27;,
                position: {
                    width: &#x27;400px&#x27;,
                    height: &#x27;260px&#x27;
                },
                stepCurrent: 0
            }
        },
        computed: {
            ...mapGetters({
                slideInfo: &#x27;getSlideInfo&#x27;
            })
        },
        watch: {
            slideInfo: function () {
                console.log(this.slideInfo)
                this.updateSlide()
            },
            WIDTH: function () {
                console.log(&#x27;watch the size&#x27;, this.WIDTH)
                this.position.width = this.WIDTH.toString() + &#x27;px&#x27;
                this.toolbarStyle.width = this.WIDTH.toString() + &#x27;px&#x27;
            },
            HEIGHT: function () {
                this.position.height = this.HEIGHT.toString() + &#x27;px&#x27;
            },
            LOADING: function () {
                let that = this
                if (this.LOADING) {
                    window.setInterval(function () {
                        console.log(&#x27;yes&#x27;)
                        that.stepCurrent = (that.stepCurrent &lt; 3) ? that.stepCurrent + 1 : 0
                    }, 2000)
                }
            }
        },
        mounted () {
            console.log(&#x27;mounted the size&#x27;, this.WIDTH)
            this.position.width = this.WIDTH.toString() + &#x27;px&#x27;
            this.position.height = this.HEIGHT.toString() + &#x27;px&#x27;
            console.log(this.slideInfo.slide_path)
            console.log(getFileNameFromPath(this.slideInfo.slide_path))
        },
        created () {
            // ***********NEED MODIFY***********
            for (let i = 1; i &lt;= parseInt(this.slideInfo.slide_num); i++) {
                this.imgs.push(this.binpath + &#x27;/rooms/room1/&#x27; + &#x27;bg&#x27; + i + &#x27;.jpg&#x27;)
            }
            this.updateSlide()
        },
        methods: {
            /**
             *更新幻灯片，从指定文件夹获取图片地址push到this.imgs里
             *@event updateSlide
             */
            updateSlide () {
                // *************** NEED MODIFY ***************  this.slideInfo.slide_num
                this.imgs = []
                for (let i = 1; i &lt;= parseInt(this.slideInfo.slide_num); i++) {
                    console.log(this.slideInfo.slide_path + &#x27;/&#x27; + getFileNameFromPath(this.slideInfo.slide_path) + &#x27;-&#x27; + i + &#x27;.jpg&#x27;)
                    this.imgs.push(this.slideInfo.slide_path + &#x27;/&#x27; + getFileNameFromPath(this.slideInfo.slide_path) + &#x27;-&#x27; + i + &#x27;.jpg&#x27;)
                }
            },
            /**
             *返回现在是ppt的第几页
             *@method getHistory
             *@return {Object} this.index
             */
            getHistory () {
                return this.index
            },
            /**
             *发送现在是ppt的第几页的消息
             *@event reloadClear
             */
            reloadClear () {
                this.send(this.index)
            },
            /**
             *设置自动播放功能
             *@event changeAuto
             */
            changeAuto () {
                this.setautoplay = true
            },
            /**
             *关闭自动播放功能
             *@event changePause
             */
            changePause () {
                this.setautoplay = false
            },
            /**
             *减慢自动播放功能的播放速度
             *@event minusSpeed
             */
            minusSpeed () {
                this.autoplayspeed = (this.autoplayspeed &lt; 10000) ? this.autoplayspeed + 1000 : this.autoplayspeed
            },
            /**
             *加快自动播放功能的播放速度
             *@event addSpeed
             */
            addSpeed () {
                this.autoplayspeed = (this.autoplayspeed &gt; 1000) ? this.autoplayspeed - 1000 : this.autoplayspeed
            },
            /**
             *发送消息
             *@event send
             */
            send (data) {
                this.$emit(&#x27;send&#x27;, data)
            },
            /**
             *接收消息（给this.index赋值）
             *@event send
             */
            receive (data) {
                this.index = data.data
            },
            /**
             *对权限进行判断，只有老师才能用socketio发送对ppt进行操作的消息
             *@event changeppt
             */
            changeppt: function (oldValue, value) {
                console.log(value)
                console.log(&#x27;çhange&#x27;)
                if (this.AUTHORITY) {
                    this.send(value)
                }
            }
        }
    }
&lt;/script&gt;

&lt;style&gt;
#slide .relative {
    width: 0;
    height: 0;
    float: left;
}

#slide #bottom-toolbar {
    display: none;
    margin-top: 40px;
    width: 100%;
    height: 36px;
    background: -webkit-linear-gradient(rgba(92, 173, 255, 0), rgba(92, 173, 255,1)); /* Safari 5.1 - 6.0 */
    background: -o-linear-gradient(rgba(92, 173, 255,0), rgba(92, 173, 255,1)); /* Opera 11.1 - 12.0 */
    background: -moz-linear-gradient(rgba(92, 173, 255,0), rgba(92, 173, 255,1)); /* Firefox 3.6 - 15 */
    background: linear-gradient(rgba(92, 173, 255,0), rgba(92, 173, 255,1)); /* 标准的语法 */
}
#slide #page {
    width: 45px;
}
#slide #slider {
    display: inline-block;
    width: calc(100% - 200px);
    float: right;
    margin-right: 10px;
}
#slide .buttons {
    color: white !important;
}
#slide .buttons:hover {
    color: #5cadff !important;
}
#slide #controls {
    float: left;
    margin-left: 10px;
}

#slide #showbar {
    position: relative;
    top: -80px;
    left: 0px;
    height: 76px;
    z-index: 400;
    text-align: center;
}

#slide #showbar:hover #bottom-toolbar {
    display: block;
}

#spin {
    text-align: center;
}

#spin #loading-text {
    width: 100%;
    height: 31%;
    margin-top: 10%;
    text-align: center;
}

#spin #loading-text #content{
    display: inline-block;
    height: 100%;
    width: 21%;
    font-size: 1.3em;
    color: #5cadff;
    border: 2px #5cadff solid;
    border-radius: 50%;
    padding: 8% 0px;
    -moz-box-shadow:1px 1px 6px #5cadff;
    -webkit-box-shadow:1px 1px 6px #5cadff; 
    box-shadow: 1px 1px 6px #5cadff;
    text-shadow:2px 2px 2px rgb(180,240,180);
}

#spin #steps {
    margin-top: 20%;
}
&lt;/style&gt;
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
